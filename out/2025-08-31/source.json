{
  "source": "stackoverflow",
  "feed": "https://stackoverflow.com/feeds/tag?tagnames=rds&sort=newest",
  "domain": "stackoverflow.com",
  "title": "RDS sends SIGHUP signal after it gets a workload",
  "url": "https://stackoverflow.com/questions/79679247/rds-sends-sighup-signal-after-it-gets-a-workload",
  "created": "2025-08-26 08:35:36+00:00",
  "text": "<p>We have an RDS database running Postgres 16.8 on an t4g.micro, with nothing special except the pgvector package 0.8.0 enabled. When it receives a specific workload, it becomes unstable and sometimes fails after an hour, sometimes after 5 minutes. The logs show the following:</p>\n<pre><code>2025-06-25 14:06:39 UTC::@:[1339]:LOG: checkpoint starting: time\n2025-06-25 14:06:41 UTC::@:[1339]:LOG: checkpoint complete: wrote 5 buffers (0.0%); 0 WAL file(s) added, 0 removed, 1 recycled; write=0.899 s, sync=0.013 s, total=2.267 s; sync files=29, longest=0.004 s, average=0.001 s; distance=65975 kB, estimate=65975 kB; lsn=41D/806E348, redo lsn=41D/806E310\n2025-06-25 14:11:32 UTC::@:[1338]:LOG: skipping missing configuration file &quot;/rdsdbdata/config/recovery.conf&quot;\n2025-06-25 14:11:31 UTC::@:[1337]:LOG: received smart shutdown request\n2025-06-25 14:11:31 UTC::@:[1337]:LOG: received SIGHUP, reloading configuration files\n2025-06-25 14:11:31 UTC:83.87.175.98(58140):postgres@dbname:[17054]:FATAL: terminating connection due to administrator command\n2025-06-25 14:11:31 UTC::@:[1337]:LOG: skipping missing configuration file &quot;/rdsdbdata/config/recovery.conf&quot;\n2025-06-25 14:11:31 UTC:83.87.175.98(58136):postgres@dbname:[17049]:FATAL: terminating connection due to administrator command\n2025-06-25 14:11:31 UTC:172.31.76.8(39994):postgres@dbname:[17567]:FATAL: terminating connection due to administrator command\n</code></pre>\n<p>If I understand correctly, the logs don't indicate anything going wrong until it receives a SIGHUP from RDS. It is not critically low on memory or disk space, and it even happens when the load indicators are not extremely high (as in the images below). We tried increasing the size of the instance, updating packages and even removing indexes, to no avail. We have a test database outside of RDS (but on an EC2 in AWS) which doesn't seem to have this problem.</p>\n<p>I'd be delighted to get some pointers how to solve this problem!</p>\n<p><a href=\"http",
  "id": "9d94c8608ec6d8a5b43ee8ebbd35db95bad35857"
}